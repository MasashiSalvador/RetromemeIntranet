/* =========================================================
 * bootstrap-modal.js v1.4.0
 * http://twitter.github.com/bootstrap/javascript.html#modal
 * =========================================================
 * Copyright 2011 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */!function(e){"use strict";function r(){var e=this,n=setTimeout(function(){e.$element.unbind(t);i.call(e)},500);this.$element.one(t,function(){clearTimeout(n);i.call(e)})}function i(e){this.$element.hide().trigger("hidden");s.call(this)}function s(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.settings.backdrop){var s=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body);this.settings.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this));s&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");s?this.$backdrop.one(t,n):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t,e.proxy(o,this)):o.call(this)}else n&&n()}function o(){this.$backdrop.remove();this.$backdrop=null}function u(){var t=this;this.isShown&&this.settings.keyboard?e(document).bind("keyup.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).unbind("keyup.modal")}var t;e(document).ready(function(){e.support.transition=function(){var e=document.body||document.documentElement,t=e.style,n=t.transition!==undefined||t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.MsTransition!==undefined||t.OTransition!==undefined;return n}();if(e.support.transition){t="TransitionEnd";e.browser.webkit?t="webkitTransitionEnd":e.browser.mozilla?t="transitionend":e.browser.opera&&(t="oTransitionEnd")}});var n=function(t,n){this.settings=e.extend({},e.fn.modal.defaults,n);this.$element=e(t).delegate(".close","click.modal",e.proxy(this.hide,this));this.settings.show&&this.show();return this};n.prototype={toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var n=this;this.isShown=!0;this.$element.trigger("show");u.call(this);s.call(this,function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.appendTo(document.body).show();r&&n.$element[0].offsetWidth;n.$element.addClass("in");r?n.$element.one(t,function(){n.$element.trigger("shown")}):n.$element.trigger("shown")});return this},hide:function(t){t&&t.preventDefault();if(!this.isShown)return this;var n=this;this.isShown=!1;u.call(this);this.$element.trigger("hide").removeClass("in");e.support.transition&&this.$element.hasClass("fade")?r.call(this):i.call(this);return this}};e.fn.modal=function(t){var r=this.data("modal");if(!r){typeof t=="string"&&(t={show:/show|toggle/.test(t)});return this.each(function(){e(this).data("modal",new n(this,t))})}if(t===!0)return r;typeof t=="string"?r[t]():r&&r.toggle();return this};e.fn.modal.Modal=n;e.fn.modal.defaults={backdrop:!1,keyboard:!1,show:!1};e(document).ready(function(){e("body").delegate("[data-controls-modal]","click",function(t){t.preventDefault();var n=e(this).data("show",!0);e("#"+n.attr("data-controls-modal")).modal(n.data())})})}(window.jQuery||window.ender);